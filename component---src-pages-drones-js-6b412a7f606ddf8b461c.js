(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{CY7l:function(e,a,t){"use strict";t.r(a);var n=t("q1tI"),i=t.n(n),s=(t("Wbzz"),t("JI6e")),l=t("3Z9Z"),d=t("TADJ"),h=t("Bl7J");a.default=function(){return i.a.createElement(h.a,null,i.a.createElement(s.a,null,i.a.createElement(l.a,null,i.a.createElement(s.a,null,i.a.createElement("h2",null,"Random Drones"))),i.a.createElement(l.a,null,i.a.createElement(s.a,null,i.a.createElement(d.a,null)))))}},TADJ:function(e,a,t){"use strict";(function(e){var n=t("HaE+"),i=t("dI71"),s=t("o0o1"),l=t.n(s),d=t("q1tI"),h=t.n(d),r=t("3Z9Z"),c=t("JI6e"),u=t("cWnB"),m=t("wsfE"),o=t("0xou"),p=t("lkoK"),v=t("szzY"),f=function(a){function t(e){var t;return(t=a.call(this,e)||this).state={csoundLoaded:"loading",csndstatus:"dbyellow",rvar:0,seed:821917,pathseed:19320,wave:4,scale:5,dist:1,dp:.071,dmp:.73},t.itm={id:"hvsamp",type:"fader",label:"amp",min:0,max:1,step:.01,defval:.6,height:200},t.itmrev={id:"hvsrev",type:"fader",label:"reverb",min:0,max:1,step:.01,defval:.6,height:200},t.itmshi={id:"hvsshi",type:"fader",label:"shi",min:0,max:1,step:.01,defval:.5,height:200},t.itmens={id:"hvsens",type:"fader",label:"ens",min:0,max:1,step:.01,defval:.1,height:200},t.itmfilt={id:"hvsfilt",type:"fader",label:"filter",log:!0,min:40,max:15e3,step:.01,defval:5e3,height:200},t.niseed={id:"seed",type:"numberinput",label:"seed",size:"7",min:0,max:1e6,step:1,defval:0},t.nipseed={id:"pathseed",type:"numberinput",label:"pseed",size:"7",min:0,max:1e5,step:1,defval:0},t.niwave={id:"wave",type:"select",label:"wave",defval:0,vertical:!0,items:[{name:"sine",value:0},{name:"sin2",value:1},{name:"saw",value:2},{name:"pls",value:3},{name:"tri",value:4},{name:"rnd",value:5},{name:"vcosaw",value:6},{name:"vcopls",value:7},{name:"vcotri",value:8}]},t.niscale={id:"scale",type:"select",label:"scales",defval:0,vertical:!0,items:[{name:"limit",value:0},{name:"majb7",value:1},{name:"maj7-5^",value:2},{name:"minblue",value:3},{name:"minzo",value:4},{name:"phry",value:5},{name:"min-6",value:6},{name:"min",value:7},{name:"p87",value:8}]},t.dist={id:"dist",type:"select",label:"dist",defval:0,vertical:!0,items:[{name:"cauchy",value:0},{name:"beta",value:1},{name:"weibull",value:2}]},t.dp={id:"dp",type:"fader",label:"dens",min:.001,max:.2,step:.001,defval:.1},t.dmp={id:"dmp",type:"fader",label:"dmp",min:.01,max:1,step:.01,defval:.1},t}Object(i.a)(t,a);var s=t.prototype;return s.componentDidMount=function(){var a=this;setTimeout((function(){e.CsoundObj?e.CsoundObj.initialize().then((function(){a.csound=new e.CsoundObj,fetch("/drones.csd").then((function(e){e.arrayBuffer().then(function(){var e=Object(n.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.csound.writeToFS("drones.csd",t),a.csound.compileCSD("drones.csd"),a.csound.start(),a.setState({csoundLoaded:"running"}),a.setState({csndstatus:"dbgreen"}),a.niseed.changeValue(821917),a.nipseed.changeValue(19320),a.niwave.changeValue(4),a.niscale.changeValue(5),a.dmp.changeValue(.73),a.dist.changeValue(1),a.dp.changeValue(.071),a.isPlaying=!1,a.isStarted=!1;case 14:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}())}))})):(a.setState({csoundLoaded:"Loading failed (try to reload the page)"}),a.setState({csndstatus:"dbred"}))}),2e3)},s.componentWillUnmount=function(){this.csound&&(this.csound.stop(),this.csound.destroy())},s.handleStart=function(){this.isPlaying||(this.isStarted||(e.CsoundObj.CSOUND_AUDIO_CONTEXT.resume(),this.started=!0),this.csound.readScore('i "hvs" 0.00067 3000 110 4 '+this.state.pathseed/1e5+" "+2147.4836*this.state.seed+" "+this.state.wave+" "+this.state.scale+" "+this.state.rvar+" "+this.state.dist+" "+this.state.dp+" "+this.state.dmp),this.isPlaying=!0)},s.handleRandom=function(){var e=v.a.randomIntM(1e6);this.niseed.changeValue(e);var a=v.a.randomIntM(1e5);this.nipseed.changeValue(a);var t=v.a.randomIntM(9);this.niwave.changeValue(t);var n=v.a.randomIntM(9);this.niscale.changeValue(n),console.log(e,a,t,n)},s.handlePause=function(){this.started&&(this.started=!1,e.CsoundObj.CSOUND_AUDIO_CONTEXT.suspend())},s.handleContinue=function(){this.started||(this.started=!0,e.CsoundObj.CSOUND_AUDIO_CONTEXT.resume())},s.handleStop=function(){this.isPlaying&&(this.csound.readScore('i "trigOff" 0 0.1'),this.isPlaying=!1)},s.handleUpdate=function(e,a){this.csound&&this.csound.setControlChannel(e,a)},s.handleNI=function(e,a){var t={};t[e]=a,this.setState(t)},s.render=function(){var e=this.state,a=(e.seed,e.pathseed,e.wave,e.scale,e.csoundLoaded);return h.a.createElement(h.a.Fragment,null,h.a.createElement(r.a,null,h.a.createElement(c.a,null,h.a.createElement(u.a,{onClick:this.handleStart.bind(this)},"Start")),h.a.createElement(c.a,null,h.a.createElement(u.a,{onClick:this.handleStop.bind(this)},"Stop")),h.a.createElement(c.a,null,h.a.createElement(u.a,{onClick:this.handleRandom.bind(this)},"Random")),h.a.createElement(c.a,null,h.a.createElement(u.a,{onClick:this.handlePause.bind(this)},"Pause")),h.a.createElement(c.a,null,h.a.createElement(u.a,{onClick:this.handleContinue.bind(this)},"Continue"))),h.a.createElement(r.a,null,h.a.createElement(c.a,{className:this.state.csndstatus},"Csound ",a)),h.a.createElement(r.a,null,h.a.createElement(c.a,null,"stop and start after changing these parameters.")),h.a.createElement(r.a,{noGutters:"true"},h.a.createElement(c.a,null,h.a.createElement(r.a,null,h.a.createElement(c.a,null,h.a.createElement(o.a,{vertical:!1,def:this.niseed,onChange:this.handleNI.bind(this)}))),h.a.createElement(r.a,null,h.a.createElement(c.a,null,h.a.createElement(o.a,{vertical:!1,def:this.nipseed,onChange:this.handleNI.bind(this)}))),h.a.createElement(r.a,null,h.a.createElement(c.a,null,h.a.createElement(p.a,{vertical:!0,def:this.dist,onChange:this.handleNI.bind(this)})))),h.a.createElement(m.a,{def:this.dp,key:this.dp.id,onChange:this.handleNI.bind(this)}),h.a.createElement(c.a,null,h.a.createElement(p.a,{vertical:!0,def:this.niwave,onChange:this.handleNI.bind(this)})),h.a.createElement(c.a,null,h.a.createElement(p.a,{def:this.niscale,onChange:this.handleNI.bind(this),vertical:!0})),h.a.createElement(m.a,{def:this.dmp,key:this.dmp.id,onChange:this.handleNI.bind(this)})),h.a.createElement(r.a,null,h.a.createElement(c.a,null,"performance parameters")),h.a.createElement(r.a,{noGutters:"true"},h.a.createElement(m.a,{def:this.itm,key:this.itm.id,onChange:this.handleUpdate.bind(this)}),h.a.createElement(m.a,{def:this.itmrev,key:this.itmrev.id,onChange:this.handleUpdate.bind(this)}),h.a.createElement(m.a,{def:this.itmshi,key:this.itmshi.id,onChange:this.handleUpdate.bind(this)}),h.a.createElement(m.a,{def:this.itmens,key:this.itmens.id,onChange:this.handleUpdate.bind(this)}),h.a.createElement(m.a,{def:this.itmfilt,key:this.itmfilt.id,onChange:this.handleUpdate.bind(this)})))},t}(h.a.Component);a.a=f}).call(this,t("yLpj"))}}]);
//# sourceMappingURL=component---src-pages-drones-js-6b412a7f606ddf8b461c.js.map